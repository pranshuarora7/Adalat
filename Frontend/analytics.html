<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - Legal Research Assistant</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-balance-scale"></i>
                Legal Research Assistant
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="features.html">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="testimonials.html">Testimonials</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user-circle"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="profile.html">Profile</a></li>
                            <li><a class="dropdown-item" href="settings.html">Settings</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="login.html">Login</a></li>
                            <li><a class="dropdown-item" href="register.html">Register</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 col-lg-2 sidebar">
                <div class="sidebar-header">
                    <h4>Navigation</h4>
                </div>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            <i class="fas fa-comments"></i> My Chats
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="cases.html">
                            <i class="fas fa-gavel"></i> Similar Cases
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="calculator.html">
                            <i class="fas fa-calculator"></i> Win Calculator
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="documents.html">
                            <i class="fas fa-file-alt"></i> Documents
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="analytics.html">
                            <i class="fas fa-chart-line"></i> Analytics
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Main Content Area -->
            <div class="col-md-9 col-lg-10 main-content">
                <div class="analytics-container">
                    <!-- Analytics Header -->
                    <div class="analytics-header">
                        <h2>Analytics Dashboard</h2>
                        <div class="date-range">
                            <select id="timeRange" class="form-select">
                                <option value="7">Last 7 Days</option>
                                <option value="30">Last 30 Days</option>
                                <option value="90">Last 90 Days</option>
                                <option value="365">Last Year</option>
                            </select>
                        </div>
                    </div>

                    <!-- Key Metrics -->
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-icon">
                                <i class="fas fa-gavel"></i>
                            </div>
                            <div class="metric-info">
                                <h3>Total Cases</h3>
                                <p class="metric-value">1,234</p>
                                <p class="metric-change positive">+12% from last period</p>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <div class="metric-info">
                                <h3>Success Rate</h3>
                                <p class="metric-value">78%</p>
                                <p class="metric-change positive">+5% from last period</p>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="metric-info">
                                <h3>Documents Analyzed</h3>
                                <p class="metric-value">5,678</p>
                                <p class="metric-change positive">+23% from last period</p>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="metric-info">
                                <h3>Active Users</h3>
                                <p class="metric-value">456</p>
                                <p class="metric-change positive">+8% from last period</p>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Section -->
                    <div class="charts-grid">
                        <!-- Case Success Rate by Category -->
                        <div class="chart-card">
                            <h3>Case Success Rate by Category</h3>
                            <canvas id="successRateChart"></canvas>
                        </div>
                        <!-- Case Distribution by Court -->
                        <div class="chart-card">
                            <h3>Case Distribution by Court</h3>
                            <canvas id="courtDistributionChart"></canvas>
                        </div>
                        <!-- Monthly Case Volume -->
                        <div class="chart-card">
                            <h3>Monthly Case Volume</h3>
                            <canvas id="monthlyVolumeChart"></canvas>
                        </div>
                        <!-- Document Usage by Type -->
                        <div class="chart-card">
                            <h3>Document Usage by Type</h3>
                            <canvas id="documentUsageChart"></canvas>
                        </div>
                    </div>

                    <!-- Detailed Analytics -->
                    <div class="detailed-analytics">
                        <div class="analytics-tabs">
                            <ul class="nav nav-tabs" id="analyticsTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="case-tab" data-bs-toggle="tab" data-bs-target="#caseAnalytics" type="button">Case Analytics</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="document-tab" data-bs-toggle="tab" data-bs-target="#documentAnalytics" type="button">Document Analytics</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="user-tab" data-bs-toggle="tab" data-bs-target="#userAnalytics" type="button">User Analytics</button>
                                </li>
                            </ul>
                            <div class="tab-content" id="analyticsTabContent">
                                <!-- Case Analytics Tab -->
                                <div class="tab-pane fade show active" id="caseAnalytics" role="tabpanel">
                                    <div class="analytics-table">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>Case Category</th>
                                                    <th>Total Cases</th>
                                                    <th>Success Rate</th>
                                                    <th>Avg. Duration</th>
                                                    <th>Trend</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Criminal</td>
                                                    <td>456</td>
                                                    <td>82%</td>
                                                    <td>6 months</td>
                                                    <td><i class="fas fa-arrow-up text-success"></i> +15%</td>
                                                </tr>
                                                <tr>
                                                    <td>Civil</td>
                                                    <td>342</td>
                                                    <td>75%</td>
                                                    <td>8 months</td>
                                                    <td><i class="fas fa-arrow-up text-success"></i> +8%</td>
                                                </tr>
                                                <tr>
                                                    <td>Corporate</td>
                                                    <td>236</td>
                                                    <td>68%</td>
                                                    <td>12 months</td>
                                                    <td><i class="fas fa-arrow-down text-danger"></i> -5%</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <!-- Document Analytics Tab -->
                                <div class="tab-pane fade" id="documentAnalytics" role="tabpanel">
                                    <div class="analytics-table">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>Document Type</th>
                                                    <th>Total Documents</th>
                                                    <th>Avg. Size</th>
                                                    <th>Usage Rate</th>
                                                    <th>Trend</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Legal Briefs</td>
                                                    <td>1,234</td>
                                                    <td>2.5 MB</td>
                                                    <td>85%</td>
                                                    <td><i class="fas fa-arrow-up text-success"></i> +12%</td>
                                                </tr>
                                                <tr>
                                                    <td>Contracts</td>
                                                    <td>876</td>
                                                    <td>1.8 MB</td>
                                                    <td>72%</td>
                                                    <td><i class="fas fa-arrow-up text-success"></i> +5%</td>
                                                </tr>
                                                <tr>
                                                    <td>Evidence</td>
                                                    <td>654</td>
                                                    <td>4.2 MB</td>
                                                    <td>68%</td>
                                                    <td><i class="fas fa-arrow-down text-danger"></i> -3%</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <!-- User Analytics Tab -->
                                <div class="tab-pane fade" id="userAnalytics" role="tabpanel">
                                    <div class="analytics-table">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>User Type</th>
                                                    <th>Active Users</th>
                                                    <th>Avg. Sessions</th>
                                                    <th>Feature Usage</th>
                                                    <th>Trend</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Lawyers</td>
                                                    <td>234</td>
                                                    <td>12/week</td>
                                                    <td>92%</td>
                                                    <td><i class="fas fa-arrow-up text-success"></i> +18%</td>
                                                </tr>
                                                <tr>
                                                    <td>Legal Researchers</td>
                                                    <td>156</td>
                                                    <td>8/week</td>
                                                    <td>85%</td>
                                                    <td><i class="fas fa-arrow-up text-success"></i> +10%</td>
                                                </tr>
                                                <tr>
                                                    <td>Students</td>
                                                    <td>66</td>
                                                    <td>4/week</td>
                                                    <td>78%</td>
                                                    <td><i class="fas fa-arrow-down text-danger"></i> -2%</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="app.js"></script>
    <script>
        // Initialize AOS animations
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true
        });

        // Initialize charts when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
        });

        // Function to initialize all charts
        function initializeCharts() {
            // Case Success Rate by Category Chart
            const successRateCtx = document.getElementById('successRateChart').getContext('2d');
            new Chart(successRateCtx, {
                type: 'bar',
                data: {
                    labels: ['Criminal', 'Civil', 'Corporate', 'Family', 'Property'],
                    datasets: [{
                        label: 'Success Rate (%)',
                        data: [82, 75, 68, 79, 71],
                        backgroundColor: [
                            'rgba(75, 192, 192, 0.6)',
                            'rgba(54, 162, 235, 0.6)',
                            'rgba(255, 206, 86, 0.6)',
                            'rgba(153, 102, 255, 0.6)',
                            'rgba(255, 159, 64, 0.6)'
                        ],
                        borderColor: [
                            'rgba(75, 192, 192, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });

            // Case Distribution by Court Chart
            const courtDistributionCtx = document.getElementById('courtDistributionChart').getContext('2d');
            new Chart(courtDistributionCtx, {
                type: 'pie',
                data: {
                    labels: ['Supreme Court', 'High Court', 'District Court', 'Special Court'],
                    datasets: [{
                        data: [25, 35, 30, 10],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.6)',
                            'rgba(54, 162, 235, 0.6)',
                            'rgba(255, 206, 86, 0.6)',
                            'rgba(75, 192, 192, 0.6)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true
                }
            });

            // Monthly Case Volume Chart
            const monthlyVolumeCtx = document.getElementById('monthlyVolumeChart').getContext('2d');
            new Chart(monthlyVolumeCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'Case Volume',
                        data: [120, 150, 180, 210, 240, 270, 300, 280, 250, 220, 190, 160],
                        fill: false,
                        borderColor: 'rgb(75, 192, 192)',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Document Usage by Type Chart
            const documentUsageCtx = document.getElementById('documentUsageChart').getContext('2d');
            new Chart(documentUsageCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Legal Briefs', 'Contracts', 'Evidence', 'Reports', 'Other'],
                    datasets: [{
                        data: [35, 25, 20, 15, 5],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.6)',
                            'rgba(54, 162, 235, 0.6)',
                            'rgba(255, 206, 86, 0.6)',
                            'rgba(75, 192, 192, 0.6)',
                            'rgba(153, 102, 255, 0.6)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true
                }
            });
        }

        // Handle time range changes
        document.getElementById('timeRange').addEventListener('change', function() {
            // In a real application, this would fetch new data based on the selected time range
            // For now, we'll just update the metrics with simulated data
            updateMetrics(this.value);
        });

        // Function to update metrics based on time range
        function updateMetrics(days) {
            // Simulated data updates based on time range
            const metrics = {
                '7': { cases: 1234, success: 78, documents: 5678, users: 456 },
                '30': { cases: 4567, success: 75, documents: 12345, users: 789 },
                '90': { cases: 12345, success: 72, documents: 34567, users: 1234 },
                '365': { cases: 45678, success: 70, documents: 123456, users: 2345 }
            };

            const data = metrics[days];
            document.querySelectorAll('.metric-value')[0].textContent = data.cases.toLocaleString();
            document.querySelectorAll('.metric-value')[1].textContent = data.success + '%';
            document.querySelectorAll('.metric-value')[2].textContent = data.documents.toLocaleString();
            document.querySelectorAll('.metric-value')[3].textContent = data.users.toLocaleString();
        }
    </script>
</body>
</html> 